<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

<head>
  <meta charset="utf-8">

  <title>Basic plotting and statistics</title>
  <meta name="description" content="">

  <!-- Mobile viewport optimized: h5bp.com/viewport -->
  <meta name="viewport" content="width=device-width">

  <!-- Tell iOS to run as an app if launched from home screen -->
  <meta name="apple-mobile-web-app-capable" content="yes">

  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/page.css">
  <link rel="stylesheet" href="css/code.css">
  <link rel="stylesheet" href="css/print.css">

  <!-- All JavaScript at the bottom, except this Modernizr build. -->
  <script src="js/vendor/modernizr-2.5.3.min.js" type="text/javascript"></script>
</head>

<body>
  <!-- Prompt IE 6 users to install Chrome Frame. -->
  <!--[if lt IE 9]>
    <p class=chromeframe>
      Your web browser is <em>ancient!</em> <a href="http://browsehappy.com/">You should upgrade to a new browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.
    </p>
  <![endif]-->

  <!-- courseR content will be injected here -->
  <div id = "courser-stuff" class = "pageView">
<section>  <h1>Introduction to simple plots and basic statistics in R</h1>
</section>
<section><h1>A sample dataset</h1>

<section><h2>Let&#39;s use <code>data.frame</code> to build a simple table to data to work with.</h2>

<p>Usually you&#39;d be loading data from an external file, but we&#39;ll use this example to demonstrate the <code>rep</code> function:</p>

<div class="chunk"><div class="rcode"><div class="source"><span class="functioncall">rep</span><span class="keyword">(</span><span class="functioncall">c</span><span class="keyword">(</span><span class="string">&ldquo;a&rdquo;</span><span class="keyword">,</span><span class="string">&ldquo;b&rdquo;</span><span class="keyword">)</span><span class="keyword">,</span> <span class="argument">times</span> <span class="argument">=</span> <span class="number">3</span><span class="keyword">)</span></div><div class="output"><pre class="knitr">[1] "a" "b" "a" "b" "a" "b"</pre></div><div class="source"><span class="functioncall">rep</span><span class="keyword">(</span><span class="functioncall">c</span><span class="keyword">(</span><span class="string">&ldquo;a&rdquo;</span><span class="keyword">,</span><span class="string">&ldquo;b&rdquo;</span><span class="keyword">)</span><span class="keyword">,</span> <span class="argument">each</span> <span class="argument">=</span> <span class="number">2</span><span class="keyword">)</span></div><div class="output"><pre class="knitr">[1] "a" "a" "b" "b"</pre></div><div class="source"><span class="functioncall">rep</span><span class="keyword">(</span><span class="functioncall">c</span><span class="keyword">(</span><span class="string">&ldquo;a&rdquo;</span><span class="keyword">,</span><span class="string">&ldquo;b&rdquo;</span><span class="keyword">)</span><span class="keyword">,</span> <span class="argument">times</span> <span class="argument">=</span> <span class="number">3</span><span class="keyword">,</span> <span class="argument">each</span> <span class="argument">=</span> <span class="number">3</span><span class="keyword">)</span></div><div class="output"><pre class="knitr"> [1] "a" "a" "a" "b" "b" "b" "a" "a" "a" "b" "b" "b" "a" "a" "a" "b" "b"
[18] "b"</pre></div></div></div>
</section>
<section><h2>Clotting time dataset</h2>

<p>We&#39;ll have 12 observations, the first 6 with &ldquo;drug1&rdquo; the second 6 with &ldquo;drug2&rdquo;</p>

<div class="chunk"><div class="rcode"><div class="source"><span class="symbol">clotData</span> <span class="assignement">&lt;-</span> <span class="functioncall">data.frame</span><span class="keyword">(</span>
                <span class="argument">drugType</span> <span class="argument">=</span> <span class="functioncall">rep</span><span class="keyword">(</span> <span class="functioncall">c</span><span class="keyword">(</span><span class="string">&ldquo;drug1&rdquo;</span><span class="keyword">,</span> <span class="string">&ldquo;drug2&rdquo;</span><span class="keyword">)</span><span class="keyword">,</span> <span class="argument">each</span> <span class="argument">=</span> <span class="number">6</span> <span class="keyword">)</span><span class="keyword">,</span>
                <span class="argument">clotTime</span> <span class="argument">=</span> <span class="functioncall">c</span><span class="keyword">(</span> <span class="number">8.8</span><span class="keyword">,</span> <span class="number">8.4</span><span class="keyword">,</span> <span class="number">7.9</span><span class="keyword">,</span> <span class="number">8.7</span><span class="keyword">,</span> <span class="number">9.1</span><span class="keyword">,</span> <span class="number">9.6</span><span class="keyword">,</span> <span class="number">9.9</span><span class="keyword">,</span> <span class="number">9.0</span><span class="keyword">,</span> <span class="number">11.1</span><span class="keyword">,</span>
                              <span class="number">9.6</span><span class="keyword">,</span> <span class="number">8.7</span><span class="keyword">,</span> <span class="number">10.4</span><span class="keyword">)</span>
              <span class="keyword">)</span>

<span class="symbol">clotData</span></div><div class="output"><pre class="knitr">   drugType clotTime
1     drug1      8.8
2     drug1      8.4
3     drug1      7.9
4     drug1      8.7
5     drug1      9.1
6     drug1      9.6
7     drug2      9.9
8     drug2      9.0
9     drug2     11.1
10    drug2      9.6
11    drug2      8.7
12    drug2     10.4</pre></div></div></div>
</section></section>
<section><h1>Summary statistics</h1>

<section><h2>General summary</h2>

<p>The <code>summary</code> function provides a simple way to get a standard set statistics:</p>

<div class="chunk"><div class="rcode"><div class="source"><span class="functioncall">summary</span><span class="keyword">(</span><span class="symbol">clotData</span><span class="keyword">)</span></div><div class="output"><pre class="knitr">  drugType    clotTime    
 drug1:6   Min.   : 7.90  
 drug2:6   1st Qu.: 8.70  
           Median : 9.05  
           Mean   : 9.27  
           3rd Qu.: 9.68  
           Max.   :11.10  </pre></div></div></div>
</section>
<section><h2>Summary by factor</h2>

<p>What if we wanted individual summaries of the data for each drug type?</p>

<div class="chunk"><div class="rcode"><div class="source"><span class="functioncall">by</span><span class="keyword">(</span><span class="symbol">clotData</span><span class="keyword">,</span> <span class="argument">INDICES</span> <span class="argument">=</span> <span class="symbol">clotData</span><span class="keyword">$</span><span class="symbol">drugType</span><span class="keyword">,</span> <span class="argument">FUN</span> <span class="argument">=</span> <span class="symbol">summary</span><span class="keyword">)</span></div><div class="output"><pre class="knitr">clotData$drugType: drug1
  drugType    clotTime   
 drug1:6   Min.   :7.90  
 drug2:0   1st Qu.:8.47  
           Median :8.75  
           Mean   :8.75  
           3rd Qu.:9.03  
           Max.   :9.60  
-------------------------------------------------------- 
clotData$drugType: drug2
  drugType    clotTime    
 drug1:0   Min.   : 8.70  
 drug2:6   1st Qu.: 9.15  
           Median : 9.75  
           Mean   : 9.78  
           3rd Qu.:10.28  
           Max.   :11.10  </pre></div></div></div>

<p>What happened there?</p>
</section>
<section><h2>Aggregate by a factor</h2>

<p>How can we make a new table with just average clot times for each drug?</p>

<div class="chunk"><div class="rcode"><div class="source"><span class="functioncall">aggregate</span><span class="keyword">(</span><span class="symbol">clotData</span><span class="keyword">$</span><span class="symbol">clotTime</span><span class="keyword">,</span>
          <span class="argument">by</span>  <span class="argument">=</span> <span class="functioncall">list</span><span class="keyword">(</span><span class="argument">Drug</span><span class="argument">=</span><span class="symbol">clotData</span><span class="keyword">$</span><span class="symbol">drugType</span><span class="keyword">)</span><span class="keyword">,</span>
          <span class="argument">FUN</span> <span class="argument">=</span> <span class="symbol">mean</span><span class="keyword">)</span></div><div class="output"><pre class="knitr">   Drug     x
1 drug1 8.750
2 drug2 9.783</pre></div></div></div>

<p>What happened there?</p>
</section></section>
<section><h1>Simple plots</h1>

<section><h2>The plot function is magic!</h2>

<div class="chunk"><div class="rcode"><div class="source"><span class="functioncall">plot</span><span class="keyword">(</span><span class="symbol">clotData</span><span class="keyword">)</span></div></div><div class="rimage default"><img src="img/unnamed-chunk-6.png" class="plot" /></div></div>

<p>This is a <a href="http://en.wikipedia.org/wiki/Box_plot">box plot</a>.</p>
</section>
<section><h2>Simple x,y plot</h2>

<div class="chunk"><div class="rcode"><div class="source"><span class="functioncall">plot</span><span class="keyword">(</span><span class="functioncall">c</span><span class="keyword">(</span><span class="number">1</span><span class="keyword">,</span><span class="number">2</span><span class="keyword">,</span><span class="number">3</span><span class="keyword">,</span><span class="number">4</span><span class="keyword">)</span><span class="keyword">,</span> <span class="functioncall">c</span><span class="keyword">(</span><span class="number">2</span><span class="keyword">,</span><span class="number">3</span><span class="keyword">,</span><span class="number">4</span><span class="keyword">,</span><span class="number">5</span><span class="keyword">)</span><span class="keyword">)</span></div></div><div class="rimage default"><img src="img/unnamed-chunk-7.png" class="plot" /></div></div>
</section>
<section><h2>Simple f(x) plot</h2>

<div class="chunk"><div class="rcode"><div class="source"><span class="functioncall">plot</span><span class="keyword">(</span> <span class="keyword">function</span><span class="keyword">(</span><span class="formalargs">x</span><span class="keyword">)</span> <span class="keyword">{</span> <span class="symbol">x</span> <span class="keyword">*</span> <span class="number">4</span><span class="keyword">}</span> <span class="keyword">)</span></div></div><div class="rimage default"><img src="img/unnamed-chunk-8.png" class="plot" /></div></div>
</section>
<section><h2>Simple f(x) plot</h2>

<div class="chunk"><div class="rcode"><div class="source"><span class="functioncall">plot</span><span class="keyword">(</span> <span class="keyword">function</span><span class="keyword">(</span><span class="formalargs">x</span><span class="keyword">)</span> <span class="keyword">{</span> <span class="symbol">x</span> <span class="keyword">^</span> <span class="number">2</span><span class="keyword">}</span> <span class="keyword">)</span></div></div><div class="rimage default"><img src="img/unnamed-chunk-9.png" class="plot" /></div></div>
</section>
<section><h2>Let&#39;s plot a normal distribution in blue</h2>

<div class="chunk"><div class="rcode"><div class="source"><span class="symbol">x</span> <span class="assignement">&lt;-</span> <span class="functioncall">seq</span><span class="keyword">(</span><span class="keyword">-</span><span class="number">4</span><span class="keyword">,</span> <span class="number">4</span><span class="keyword">,</span> <span class="argument">length</span> <span class="argument">=</span> <span class="number">200</span><span class="keyword">)</span>
<span class="symbol">y</span> <span class="assignement">&lt;-</span> <span class="functioncall">dnorm</span><span class="keyword">(</span><span class="symbol">x</span><span class="keyword">,</span> <span class="argument">mean</span> <span class="argument">=</span> <span class="number">0</span><span class="keyword">,</span> <span class="argument">sd</span> <span class="argument">=</span> <span class="number">1</span><span class="keyword">)</span>
<span class="functioncall">plot</span><span class="keyword">(</span> <span class="symbol">x</span><span class="keyword">,</span> <span class="symbol">y</span><span class="keyword">,</span> <span class="argument">col</span> <span class="argument">=</span> <span class="string">&ldquo;blue&rdquo;</span><span class="keyword">)</span></div></div><div class="rimage default"><img src="img/unnamed-chunk-10.png" class="plot" /></div></div>
</section>
<section><h2>Two plots on one graph</h2>

<div class="chunk"><div class="rcode"><div class="source"><span class="symbol">x</span> <span class="assignement">&lt;-</span> <span class="functioncall">seq</span><span class="keyword">(</span><span class="keyword">-</span><span class="number">4</span><span class="keyword">,</span> <span class="number">4</span><span class="keyword">,</span> <span class="argument">length</span> <span class="argument">=</span> <span class="number">200</span><span class="keyword">)</span>
<span class="symbol">y1</span> <span class="assignement">&lt;-</span> <span class="functioncall">dnorm</span><span class="keyword">(</span><span class="symbol">x</span><span class="keyword">,</span> <span class="argument">mean</span> <span class="argument">=</span> <span class="number">0</span><span class="keyword">,</span> <span class="argument">sd</span> <span class="argument">=</span> <span class="number">1</span><span class="keyword">)</span>
<span class="symbol">y2</span> <span class="assignement">&lt;-</span> <span class="functioncall">dnorm</span><span class="keyword">(</span><span class="symbol">x</span><span class="keyword">,</span> <span class="argument">mean</span> <span class="argument">=</span> <span class="number">1</span><span class="keyword">,</span> <span class="argument">sd</span> <span class="argument">=</span> <span class="number">1</span><span class="keyword">)</span>
<span class="functioncall">plot</span><span class="keyword">(</span> <span class="symbol">x</span><span class="keyword">,</span> <span class="symbol">y1</span><span class="keyword">,</span> <span class="argument">type</span> <span class="argument">=</span> <span class="string">&ldquo;l&rdquo;</span><span class="keyword">,</span> <span class="argument">col</span> <span class="argument">=</span> <span class="string">&ldquo;blue&rdquo;</span> <span class="keyword">)</span>
<span class="functioncall">lines</span><span class="keyword">(</span> <span class="symbol">x</span><span class="keyword">,</span> <span class="symbol">y2</span><span class="keyword">,</span> <span class="argument">col</span> <span class="argument">=</span> <span class="string">&ldquo;red&rdquo;</span> <span class="keyword">)</span></div></div><div class="rimage default"><img src="img/unnamed-chunk-11.png" class="plot" /></div></div>
</section></section>
<section><h1>A simple t-test</h1>

<section><h2>Let&#39;s look at those box plots again:</h2>

<div class="chunk"><div class="rcode"><div class="source"><span class="functioncall">plot</span><span class="keyword">(</span><span class="symbol">clotData</span><span class="keyword">)</span></div></div><div class="rimage default"><img src="img/unnamed-chunk-12.png" class="plot" /></div></div>

<p>Are the sample means different?</p>
</section>
<section><h2>The t-test {stats}</h2>

<div class="chunk"><div class="rcode"><div class="source"><span class="functioncall">help</span><span class="keyword">(</span><span class="symbol">t.test</span><span class="keyword">)</span>
<span class="functioncall">help.search</span><span class="keyword">(</span><span class="string">&ldquo;t.test&rdquo;</span><span class="keyword">)</span></div></div></div>
</section>
<section><h2>The formula expression</h2>

<div class="chunk"><div class="rcode"><div class="source"><span class="functioncall">library</span><span class="keyword">(</span><span class="symbol">stats</span><span class="keyword">)</span>
<span class="functioncall">t.test</span><span class="keyword">(</span><span class="symbol">clotData</span><span class="keyword">$</span><span class="symbol">clotTime</span> <span class="keyword">~</span> <span class="symbol">clotData</span><span class="keyword">$</span><span class="symbol">drugType</span><span class="keyword">)</span></div><div class="output"><pre class="knitr">
    Welch Two Sample t-test

data:  clotData$clotTime by clotData$drugType 
t = -2.382, df = 8.625, p-value = 0.04221
alternative hypothesis: true difference in means is not equal to 0 
95 percent confidence interval:
 -2.02101 -0.04565 
sample estimates:
mean in group drug1 mean in group drug2 
              8.750               9.783 
</pre></div></div></div>
</section>
<section><h2>The data.frame short cut</h2>

<div class="chunk"><div class="rcode"><div class="source"><span class="functioncall">t.test</span><span class="keyword">(</span><span class="symbol">clotTime</span> <span class="keyword">~</span> <span class="symbol">drugType</span><span class="keyword">,</span> <span class="argument">data</span> <span class="argument">=</span> <span class="symbol">clotdata</span><span class="keyword">)</span></div><div class="error"><pre class="knitr">Error: object 'clotdata' not found</pre></div></div></div>
</section></section>
  </div>
  <!-- end of courser content -->

  <!-- JavaScript at the bottom for fast page loading -->
  <script src=js/vendor/jquery-1.7.2.min.js type="text/javascript"></script>
  <script src=js/plugins.js type="text/javascript"></script>
  <script src=js/main.js type="text/javascript"></script>
  <script src=js/vendor/reveal.js type="text/javascript"></script>

</body>
</html>
